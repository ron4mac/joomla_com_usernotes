/*
	Copyright (C) 2015-2022 RJCreations. All rights reserved.
 @license		GNU General Public License version 3 or later; see LICENSE.txt
*/
'use strict';var SimpleStarRating=function(){return function(b){function h(a,c){return(a=b.getAttribute(a))?a:c}function n(){b.setAttribute("disabled","");e=!0}function p(a){q();for(var c=0;c<d.length&&!(c>=a);c++)c===Math.floor(a)&&c!==a&&d[c].classList.add("half"),d[c].classList.add("active")}function r(){var a=parseFloat(h("data-rating",0));a?(f=a,p(f)):m()}function m(){k=parseFloat(h("data-default-rating",0));p(k)}function q(){for(var a=0;a<d.length;a++)d[a].classList.remove("active"),d[a].classList.remove("half")}
function t(a){if(!e&&this===a.target){var c=d.indexOf(a.target);if(-1!==c){c+=1;if("function"===typeof this.onrate)this.onrate(f);a=new CustomEvent("rate",{detail:a.metaKey?0:c});n();b.dispatchEvent(a)}}}var u=parseInt(h("data-stars",5)),e="undefined"!=typeof b.getAttribute("disabled"),k=parseFloat(h("data-default-rating",0)),f=-1,d=[];b.style.display="inline-block";for(var l=0;l<u;l++){var g=document.createElement("span");g.className="star";g.addEventListener("click",t);0<l?d[l-1].appendChild(g):
b.appendChild(g);d.push(g)}this.disable=n;this.enable=function(){b.removeAttribute("disabled");e=!1};this.setCurrentRating=function(a){f=a;b.setAttribute("data-rating",f);r()};this.setDefaultRating=function(a){k=a;b.setAttribute("data-default-rating",k);m()};this.onrate=function(a){};b.addEventListener("mouseout",function(){(e=null!==b.getAttribute("disabled"))||r()});b.addEventListener("mouseover",function(){(e=null!==b.getAttribute("disabled"))||q()});m()}}();